{"filter":false,"title":"studentsPage.js","tooltip":"/client/templates/students/studentsPage.js","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":115,"column":6},"end":{"row":115,"column":20},"action":"remove","lines":["return avatar;"],"id":123}],[{"start":{"row":115,"column":4},"end":{"row":115,"column":6},"action":"remove","lines":["  "],"id":124}],[{"start":{"row":115,"column":2},"end":{"row":115,"column":4},"action":"remove","lines":["  "],"id":125}],[{"start":{"row":115,"column":0},"end":{"row":115,"column":2},"action":"remove","lines":["  "],"id":126}],[{"start":{"row":114,"column":7},"end":{"row":115,"column":0},"action":"remove","lines":["",""],"id":127}],[{"start":{"row":99,"column":0},"end":{"row":99,"column":75},"action":"remove","lines":["    //if ( avatar==\"\" || !avatar || Session.get('userType') != \"teacher\") {"],"id":138}],[{"start":{"row":98,"column":99},"end":{"row":99,"column":0},"action":"remove","lines":["",""],"id":139}],[{"start":{"row":101,"column":17},"end":{"row":101,"column":23},"action":"remove","lines":["avatar"],"id":140},{"start":{"row":101,"column":17},"end":{"row":101,"column":74},"action":"insert","lines":["classes.findOne({_id: Session.get('classId')}).studentImg"]}],[{"start":{"row":12,"column":0},"end":{"row":83,"column":1},"action":"remove","lines":["// The Browser API key obtained from the Google Developers Console.","// Replace with your own Browser API key, or your own key.","var developerKey = \"AIzaSyDnHOEU_r2pePVwDhw12EALhMFllO9IB_0\";","","// The Client ID obtained from the Google Developers Console. Replace with your own Client ID.","var clientId = \"422269930750-src3psqemmt1p6m8alujf9nvmook5c0d.apps.googleusercontent.com\"","","// Replace with your own App ID. (Its the first number in your Client ID)","var appId = \"yB6YafY8yJqC2fr1vPVg6HTw\";","","// Scope to use to access user's Drive items.","var scope = ['https://www.googleapis.com/auth/drive'];","","var pickerApiLoaded = false;","var oauthToken;","","// Use the Google API Loader script to load the google.picker script.","function loadPicker() {","  gapi.load('auth', {'callback': onAuthApiLoad});","  gapi.load('picker', {'callback': onPickerApiLoad});","}","","function onAuthApiLoad() {","  window.gapi.auth.authorize(","      {","        'client_id': clientId,","        'scope': scope,","        'immediate': false","      },","      handleAuthResult);","}","","function onPickerApiLoad() {","  pickerApiLoaded = true;","  createPicker();","}","","function handleAuthResult(authResult) {","  if (authResult && !authResult.error) {","    oauthToken = authResult.access_token;","    createPicker();","  }","}","","// Create and render a Picker object for searching images.","function createPicker() {","  if (pickerApiLoaded && oauthToken) {","    var view = new google.picker.DocsView().setIncludeFolders(true).setOwnedByMe(true);","    //view.setMimeTypes(\"image/png,image/jpeg,image/jpg\");","    var picker = new google.picker.PickerBuilder()","        .enableFeature(google.picker.Feature.NAV_HIDDEN)","        .enableFeature(google.picker.Feature.MULTISELECT_ENABLED)","        .setAppId(appId)","        .setLocale('es')","        .setOAuthToken(oauthToken)","        .addView(view)","        .addView(new google.picker.DocsUploadView())","        .setDeveloperKey(developerKey)","        .setCallback(pickerCallback)","        .build();","     picker.setVisible(true);","  }","}","","// A simple callback implementation.","function pickerCallback(data) {","  if (data.action == google.picker.Action.PICKED) {","    var fileId = data.docs[0].id;","    //alert('The user selected: ' + fileId);","    window.open('https://drive.google.com/open?id='+fileId,'_blank')","  }","}"],"id":141}],[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"remove","lines":["",""],"id":142}],[{"start":{"row":10,"column":3},"end":{"row":11,"column":0},"action":"remove","lines":["",""],"id":143}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":1,"column":51},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1556872892010,"hash":"b5a725486c11955ba2c127ccf6be918409ccf9ca"}