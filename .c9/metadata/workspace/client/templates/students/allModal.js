{"filter":false,"title":"allModal.js","tooltip":"/client/templates/students/allModal.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":365,"column":0},"end":{"row":365,"column":21},"action":"remove","lines":["        alert(price);"],"id":497}],[{"start":{"row":364,"column":59},"end":{"row":365,"column":0},"action":"remove","lines":["",""],"id":498}],[{"start":{"row":356,"column":52},"end":{"row":357,"column":0},"action":"insert","lines":["",""],"id":499},{"start":{"row":357,"column":0},"end":{"row":357,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":357,"column":6},"end":{"row":357,"column":116},"action":"insert","lines":["students.find( { $and: [ { selected: 1 } , { classId: Session.get('classId')  } ] } ).forEach(function (item){"],"id":500}],[{"start":{"row":360,"column":4},"end":{"row":360,"column":53},"action":"remove","lines":["coins = students.findOne({_id: studentId}).coins;"],"id":501}],[{"start":{"row":360,"column":2},"end":{"row":360,"column":4},"action":"remove","lines":["  "],"id":502}],[{"start":{"row":360,"column":0},"end":{"row":360,"column":2},"action":"remove","lines":["  "],"id":503}],[{"start":{"row":359,"column":7},"end":{"row":360,"column":0},"action":"remove","lines":["",""],"id":504}],[{"start":{"row":358,"column":6},"end":{"row":358,"column":8},"action":"insert","lines":["  "],"id":505}],[{"start":{"row":358,"column":65},"end":{"row":359,"column":0},"action":"insert","lines":["",""],"id":506},{"start":{"row":359,"column":0},"end":{"row":359,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":359,"column":6},"end":{"row":359,"column":8},"action":"remove","lines":["  "],"id":507}],[{"start":{"row":359,"column":6},"end":{"row":359,"column":7},"action":"insert","lines":["}"],"id":508}],[{"start":{"row":358,"column":32},"end":{"row":358,"column":56},"action":"remove","lines":["Session.get('studentId')"],"id":509},{"start":{"row":358,"column":32},"end":{"row":358,"column":43},"action":"insert","lines":["item[\"_id\"]"]}],[{"start":{"row":359,"column":7},"end":{"row":359,"column":8},"action":"insert","lines":[")"],"id":510}],[{"start":{"row":359,"column":8},"end":{"row":359,"column":9},"action":"insert","lines":[";"],"id":511}],[{"start":{"row":355,"column":8},"end":{"row":355,"column":18},"action":"remove","lines":["storeModal"],"id":512}],[{"start":{"row":355,"column":7},"end":{"row":355,"column":8},"action":"remove","lines":["."],"id":513}],[{"start":{"row":355,"column":7},"end":{"row":355,"column":23},"action":"insert","lines":["#all_coins_modal"],"id":514}],[{"start":{"row":318,"column":0},"end":{"row":320,"column":4},"action":"remove","lines":["  studentInGroup: function(studentId) {","    if ( Session.get('groupId') ==  students.findOne({_id: studentId}).groupId ) { return \"list-group-item-danger\"; }","  },"],"id":515}],[{"start":{"row":317,"column":4},"end":{"row":318,"column":0},"action":"remove","lines":["",""],"id":516}],[{"start":{"row":312,"column":0},"end":{"row":314,"column":4},"action":"remove","lines":["  hps: function() {","    return behaviours.find({classId: Session.get('classId'), positive: false });","  },"],"id":517}],[{"start":{"row":311,"column":32},"end":{"row":312,"column":0},"action":"remove","lines":["",""],"id":518}],[{"start":{"row":305,"column":0},"end":{"row":306,"column":0},"action":"insert","lines":["",""],"id":519}],[{"start":{"row":306,"column":0},"end":{"row":307,"column":0},"action":"insert","lines":["",""],"id":520}],[{"start":{"row":306,"column":0},"end":{"row":306,"column":1},"action":"insert","lines":["/"],"id":521}],[{"start":{"row":306,"column":1},"end":{"row":306,"column":2},"action":"insert","lines":["*"],"id":522}],[{"start":{"row":306,"column":2},"end":{"row":306,"column":3},"action":"insert","lines":[" "],"id":523}],[{"start":{"row":306,"column":3},"end":{"row":306,"column":4},"action":"insert","lines":["a"],"id":524}],[{"start":{"row":306,"column":4},"end":{"row":306,"column":5},"action":"insert","lines":["l"],"id":525}],[{"start":{"row":306,"column":5},"end":{"row":306,"column":6},"action":"insert","lines":["l"],"id":526}],[{"start":{"row":306,"column":6},"end":{"row":306,"column":7},"action":"insert","lines":["C"],"id":527}],[{"start":{"row":306,"column":7},"end":{"row":306,"column":8},"action":"insert","lines":["o"],"id":528}],[{"start":{"row":306,"column":8},"end":{"row":306,"column":9},"action":"insert","lines":["i"],"id":529}],[{"start":{"row":306,"column":9},"end":{"row":306,"column":10},"action":"insert","lines":["n"],"id":530}],[{"start":{"row":306,"column":10},"end":{"row":306,"column":11},"action":"insert","lines":["s"],"id":531}],[{"start":{"row":306,"column":11},"end":{"row":306,"column":12},"action":"insert","lines":["M"],"id":532}],[{"start":{"row":306,"column":12},"end":{"row":306,"column":13},"action":"insert","lines":["o"],"id":533}],[{"start":{"row":306,"column":13},"end":{"row":306,"column":14},"action":"insert","lines":["d"],"id":534}],[{"start":{"row":306,"column":14},"end":{"row":306,"column":15},"action":"insert","lines":["a"],"id":535}],[{"start":{"row":306,"column":15},"end":{"row":306,"column":16},"action":"insert","lines":["l"],"id":536}],[{"start":{"row":306,"column":16},"end":{"row":306,"column":17},"action":"insert","lines":[" "],"id":537}],[{"start":{"row":306,"column":17},"end":{"row":306,"column":18},"action":"insert","lines":["-"],"id":538}],[{"start":{"row":306,"column":17},"end":{"row":306,"column":18},"action":"remove","lines":["-"],"id":539}],[{"start":{"row":306,"column":17},"end":{"row":306,"column":18},"action":"insert","lines":["*"],"id":540}],[{"start":{"row":306,"column":18},"end":{"row":306,"column":19},"action":"insert","lines":["/"],"id":541}],[{"start":{"row":252,"column":3},"end":{"row":253,"column":0},"action":"insert","lines":["",""],"id":542}],[{"start":{"row":253,"column":0},"end":{"row":254,"column":0},"action":"insert","lines":["",""],"id":543}],[{"start":{"row":254,"column":0},"end":{"row":254,"column":19},"action":"insert","lines":["/* allCoinsModal */"],"id":544}],[{"start":{"row":254,"column":3},"end":{"row":254,"column":16},"action":"remove","lines":["allCoinsModal"],"id":545},{"start":{"row":254,"column":3},"end":{"row":254,"column":16},"action":"insert","lines":["allCardsModal"]}],[{"start":{"row":271,"column":3},"end":{"row":274,"column":3},"action":"remove","lines":[",","  studentInGroup: function(studentId) {","    if ( Session.get('groupId') ==  students.findOne({_id: studentId}).groupId ) { return \"list-group-item-danger\"; }","  }"],"id":546}],[{"start":{"row":266,"column":0},"end":{"row":268,"column":4},"action":"remove","lines":["  hps: function() {","    return behaviours.find({classId: Session.get('classId'), positive: false });","  },"],"id":547}],[{"start":{"row":265,"column":4},"end":{"row":266,"column":0},"action":"remove","lines":["",""],"id":548}],[{"start":{"row":273,"column":27},"end":{"row":274,"column":0},"action":"insert","lines":["",""],"id":549},{"start":{"row":274,"column":0},"end":{"row":274,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":274,"column":4},"end":{"row":274,"column":27},"action":"insert","lines":["$(event.currentTarget)."],"id":550}],[{"start":{"row":274,"column":26},"end":{"row":274,"column":27},"action":"remove","lines":["."],"id":551}],[{"start":{"row":274,"column":26},"end":{"row":274,"column":27},"action":"insert","lines":["."],"id":552}],[{"start":{"row":274,"column":27},"end":{"row":274,"column":28},"action":"insert","lines":["t"],"id":553}],[{"start":{"row":274,"column":28},"end":{"row":274,"column":29},"action":"insert","lines":["o"],"id":554}],[{"start":{"row":274,"column":27},"end":{"row":274,"column":29},"action":"remove","lines":["to"],"id":555},{"start":{"row":274,"column":27},"end":{"row":274,"column":40},"action":"insert","lines":["toggleClass()"]}],[{"start":{"row":274,"column":39},"end":{"row":274,"column":40},"action":"remove","lines":[")"],"id":556},{"start":{"row":274,"column":39},"end":{"row":274,"column":65},"action":"insert","lines":["\"list-group-item-danger\");"]}],[{"start":{"row":275,"column":4},"end":{"row":279,"column":5},"action":"remove","lines":["if ($(event.currentTarget).hasClass(\"list-group-item-danger\")){","      $(event.currentTarget).removeClass(\"list-group-item-danger\");","    } else {","      $(event.currentTarget).addClass(\"list-group-item-danger\");","    }"],"id":557}],[{"start":{"row":275,"column":2},"end":{"row":275,"column":4},"action":"remove","lines":["  "],"id":558}],[{"start":{"row":275,"column":0},"end":{"row":275,"column":2},"action":"remove","lines":["  "],"id":559}],[{"start":{"row":274,"column":65},"end":{"row":275,"column":0},"action":"remove","lines":["",""],"id":560}],[{"start":{"row":278,"column":16},"end":{"row":278,"column":31},"action":"remove","lines":["groupCoinsModal"],"id":561},{"start":{"row":278,"column":16},"end":{"row":278,"column":29},"action":"insert","lines":["allCardsModal"]}],[{"start":{"row":282,"column":8},"end":{"row":282,"column":25},"action":"remove","lines":["coins_modal_group"],"id":562},{"start":{"row":282,"column":8},"end":{"row":282,"column":23},"action":"insert","lines":["all_cards_modal"]}],[{"start":{"row":282,"column":7},"end":{"row":282,"column":23},"action":"remove","lines":["#all_cards_modal"],"id":563},{"start":{"row":282,"column":7},"end":{"row":282,"column":17},"action":"insert","lines":["cardsModal"]}],[{"start":{"row":282,"column":7},"end":{"row":282,"column":8},"action":"insert","lines":["."],"id":564}],[{"start":{"row":294,"column":16},"end":{"row":294,"column":31},"action":"remove","lines":["groupCoinsModal"],"id":565},{"start":{"row":294,"column":16},"end":{"row":294,"column":29},"action":"insert","lines":["allCardsModal"]}],[{"start":{"row":357,"column":10},"end":{"row":357,"column":11},"action":"remove","lines":[" "],"id":566}],[{"start":{"row":294,"column":16},"end":{"row":294,"column":29},"action":"remove","lines":["allCardsModal"],"id":567},{"start":{"row":294,"column":16},"end":{"row":294,"column":31},"action":"insert","lines":["all_cards_modal"]}],[{"start":{"row":282,"column":8},"end":{"row":282,"column":18},"action":"remove","lines":["cardsModal"],"id":568},{"start":{"row":282,"column":8},"end":{"row":282,"column":23},"action":"insert","lines":["all_cards_modal"]}],[{"start":{"row":293,"column":7},"end":{"row":294,"column":0},"action":"insert","lines":["",""],"id":569},{"start":{"row":294,"column":0},"end":{"row":294,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":294,"column":4},"end":{"row":313,"column":7},"action":"insert","lines":["$('.cardsModal').find(\".list-group-item\").each( function() {","      cardId=this.id;","      if ($(this).hasClass(\"list-group-item-danger\")) {","        if (students.find({'_id':Session.get('studentId'),'cards.cardId':cardId}).count() != 1 ) {","          Meteor.call('studentCard', Session.get('studentId'), cardId);","        }","      } else {","        Meteor.call('studentCardPull', Session.get('studentId'), cardId);","      }","    });","    $('.chromesModal').find(\".list-group-item\").each( function() {","      chromeId=this.id;","      if ($(this).hasClass(\"list-group-item-danger\")) {","        if (students.find({'_id':Session.get('studentId'),'chromes.chromeId':chromeId}).count() != 1 ) {","          Meteor.call('studentChrome', Session.get('studentId'), chromeId);","        }","      } else {","        Meteor.call('studentChromePull', Session.get('studentId'), chromeId);","      }","    });"],"id":570}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":98},"action":"remove","lines":["if (students.find({'_id':Session.get('studentId'),'cards.cardId':cardId}).count() != 1 ) {"],"id":571}],[{"start":{"row":297,"column":8},"end":{"row":298,"column":0},"action":"remove","lines":["",""],"id":572}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":10},"action":"remove","lines":["  "],"id":573}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":10},"action":"remove","lines":["  "],"id":574}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":10},"action":"remove","lines":["  "],"id":575}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":10},"action":"remove","lines":["  "],"id":576}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":10},"action":"remove","lines":["  "],"id":577}],[{"start":{"row":298,"column":6},"end":{"row":298,"column":8},"action":"remove","lines":["  "],"id":578}],[{"start":{"row":299,"column":0},"end":{"row":301,"column":7},"action":"remove","lines":["      } else {","        Meteor.call('studentCardPull', Session.get('studentId'), cardId);","      }"],"id":579}],[{"start":{"row":298,"column":7},"end":{"row":299,"column":0},"action":"remove","lines":["",""],"id":580}],[{"start":{"row":296,"column":55},"end":{"row":297,"column":0},"action":"insert","lines":["",""],"id":581},{"start":{"row":297,"column":0},"end":{"row":297,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":297,"column":8},"end":{"row":297,"column":118},"action":"insert","lines":["students.find( { $and: [ { selected: 1 } , { classId: Session.get('classId')  } ] } ).forEach(function (item){"],"id":582}],[{"start":{"row":298,"column":8},"end":{"row":298,"column":10},"action":"insert","lines":["  "],"id":583}],[{"start":{"row":298,"column":71},"end":{"row":299,"column":0},"action":"insert","lines":["",""],"id":584},{"start":{"row":299,"column":0},"end":{"row":299,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":299,"column":8},"end":{"row":299,"column":10},"action":"remove","lines":["  "],"id":585}],[{"start":{"row":299,"column":8},"end":{"row":299,"column":9},"action":"insert","lines":[")"],"id":586}],[{"start":{"row":299,"column":9},"end":{"row":299,"column":10},"action":"insert","lines":["}"],"id":587}],[{"start":{"row":299,"column":10},"end":{"row":299,"column":11},"action":"insert","lines":[";"],"id":588}],[{"start":{"row":298,"column":37},"end":{"row":298,"column":61},"action":"remove","lines":["Session.get('studentId')"],"id":589},{"start":{"row":298,"column":37},"end":{"row":298,"column":48},"action":"insert","lines":["item[\"_id\"]"]}],[{"start":{"row":305,"column":8},"end":{"row":305,"column":104},"action":"remove","lines":["if (students.find({'_id':Session.get('studentId'),'chromes.chromeId':chromeId}).count() != 1 ) {"],"id":590},{"start":{"row":305,"column":8},"end":{"row":305,"column":118},"action":"insert","lines":["students.find( { $and: [ { selected: 1 } , { classId: Session.get('classId')  } ] } ).forEach(function (item){"]}],[{"start":{"row":307,"column":9},"end":{"row":307,"column":10},"action":"insert","lines":[")"],"id":591}],[{"start":{"row":307,"column":10},"end":{"row":307,"column":11},"action":"insert","lines":[";"],"id":592}],[{"start":{"row":306,"column":39},"end":{"row":306,"column":63},"action":"remove","lines":["Session.get('studentId')"],"id":593},{"start":{"row":306,"column":39},"end":{"row":306,"column":50},"action":"insert","lines":["item[\"_id\"]"]}],[{"start":{"row":308,"column":7},"end":{"row":310,"column":7},"action":"remove","lines":[" else {","        Meteor.call('studentChromePull', Session.get('studentId'), chromeId);","      }"],"id":594}],[{"start":{"row":299,"column":8},"end":{"row":299,"column":9},"action":"remove","lines":[")"],"id":596}],[{"start":{"row":299,"column":9},"end":{"row":299,"column":10},"action":"insert","lines":[")"],"id":597}],[{"start":{"row":280,"column":10},"end":{"row":280,"column":26},"action":"remove","lines":["coinsModalSubmit"],"id":598},{"start":{"row":280,"column":10},"end":{"row":280,"column":25},"action":"insert","lines":["cardModalSubmit"]}]]},"ace":{"folds":[],"scrolltop":3691.8125,"scrollleft":0,"selection":{"start":{"row":280,"column":25},"end":{"row":280,"column":25},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":253,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1555412785491,"hash":"c7e23f081b70f959ac753bcc3b5e344f9de636e0"}