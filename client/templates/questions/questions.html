<template name="questions">
  <h3 class="nameSection">Cuestionarios</h3>
  <div class="container-fluid float-up quizContainer">
    <div class="input-group quizCreateContainer">
      <input type="text" class="form-control" id="quizName" name="quizName" placeholder="Nombre cuestionario a crear" aria-label="pregunta" aria-describedby="basic-addon1" value="{{question}}">
      <div class="input-group-addon btn quizCreateBtn">
        <span class="input-group-text">Crear cuestionario</span>
      </div>
    </div>
    {{#each quizzes}}
      <div class="list-group">
        <div class="panel panel-info">
          <div class="panel-heading" role="button" data-toggle="collapse" data-parent="" href="#quiz{{_id}}" aria-expanded="true" aria-controls="missions" id="headQuiz">
            <h4 class="panel-title text-center">
              {{quizName}}
            </h4>
          </div>
          <div id="quiz{{_id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headQuiz">
            <div class="panel-body">
              <label class="control-label" for="inputGroupSuccess1">Cuestionario</label>
              <div class="input-group">
                <div class="input-group-addon">
                  <span class="input-group-text">Nombre</span>
                </div>
                <input type="text" class="form-control quizName" name="quizName" placeholder="Nombre cuestionario" aria-label="pregunta" aria-describedby="basic-addon1" value="{{quizName}}">
                <div class="input-group-addon btn quizUpdateBtn">
                  <span class="input-group-text">Guardar</span>
                </div>
                <div class="input-group-addon btn quizRemoveBtn">
                  <span class="input-group-text">Eliminar cuestionario</span>
                </div>
              </div>
              <div class="form-group has-info">
                <label class="control-label" for="inputGroupSuccess1">Preguntas</label>
                <div class="panel-group" id="accordionMissions" role="tablist" aria-multiselectable="true">
                  {{#each questions}}
                    <div class="panel" >
                      <div class="panel-heading" role="button" data-toggle="collapse" data-parent="#accordionMissions" href="#collapse{{_id}}" aria-expanded="false" aria-controls="collapse{{_id}}" id="heading{{_id}}" style="padding:0px;">
                        <div class="input-group" style="margin:0px;padding:0px;">
                          <h4 class="panel-title" style="padding:8px;">
                            {{question}}
                          </h4>
                        </div>
                      </div>
                      <div id="collapse{{_id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading{{_id}}">
                        <div class="panel-body">
                          <form class="questionForm">
                            <div class="form-group">
                              <label class="control-label" for="inputGroupSuccess1">Pregunta:</label>
                              <div class="input-group mb-3">
                                <div class="input-group-addon">
                                  <span class="input-group-text">Pregunta</span>
                                </div>
                                <input type="text" class="form-control questionDescription" name="questionDescription" placeholder="Pregunta" aria-label="pregunta" aria-describedby="basic-addon1" value="{{question}}">
                              </div>
                              <label class="control-label" for="inputGroupSuccess1">Respuestas</label>
                              {{#each answers}}
                                <div class="input-group mb-3">
                                  <div class="input-group-addon btn {{#if correct}}answerSelected{{/if}} answerBtn">
                                    <span class="input-group-text">Respuesta {{@index}}</span>
                                  </div>
                                  <input type="text" class="form-control answer" name="answer" placeholder="respuesta" aria-label="repuesta" aria-describedby="basic-addon1" value="{{answer}}">
                                </div>
                              {{/each}}
                              <div class="mb-3">
                                <input type="button" value="Borrar" class="btn btn-info deleteQuestionBtn">
                                <input type="submit" value="Guardar" class="btn btn-info saveQuestionBtn">
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  {{/each}}
                </div>
              </div>
              <form class="newQuestionForm">
                <div class="form-group">
                  <label class="control-label" for="inputGroupSuccess1">Crear pregunta</label>
                  <div class="input-group mb-3">
                    <div class="input-group-addon">
                      <span class="input-group-text">Pregunta</span>
                    </div>
                    <input type="text" class="form-control questionDescription" name="questionDescription" placeholder="Pregunta" aria-label="pregunta" aria-describedby="basic-addon1">
                  </div>
                  <label class="control-label" for="inputGroupSuccess1">Respuestas</label>
                  <div class="input-group mb-3">
                    <div class="input-group-addon btn answerBtn">
                      <span class="input-group-text">A</span>
                    </div>
                    <input type="text" class="form-control answer" name="answer" placeholder="Respuesta A" aria-label="repuestaA" aria-describedby="basic-addon1">
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-addon btn answerBtn">
                      <span class="input-group-text">B</span>
                    </div>
                    <input type="text" class="form-control answer" name="answer" placeholder="Respuesta B" aria-label="respuestaB" aria-describedby="basic-addon1">
                  </div>
                  <div class="input-group mb-3">
                    <div class="input-group-addon btn answerBtn">
                      <span class="input-group-text">C</span>
                    </div>
                    <input type="text" class="form-control answer" name="answer" placeholder="Respuesta C" aria-label="respuestaC" aria-describedby="basic-addon1">
                  </div>
                  <div class=" mb-3">
                    <input type="submit" value="AÃ±adir pregunta" class="btn btn-info">
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</template>
