<template name="studentPage">
  <div style="background-color:#002B36;">
    <div class="list-group">
      {{#with student}}
        <h2 class="text-center bg-primary"><span id="alias">{{alias}}</span> ({{studentName}})</h2>
        <div class="container-fluid">
          <img src="{{image avatar}}" name="{{_id}}" alt="..." class="img fotoStudent">
          <div class="puntsStudent">
              <div class="list-group" id="{{_id}}">
                <li class="list-group-item list-group-item-warning btn-level" data-toggle="modal">N{{levelAutomatic (_id)}} {{levelDesc (_id)}}</li>
                <li class="list-group-item list-group-item-success btn-xp" data-toggle="modal">{{XP}} XP</li>
                <li class="list-group-item list-group-item-danger btn-hp"  data-toggle="modal">{{HP}} HP</li>
                <li class="list-group-item list-group-item-info btn-badge" data-toggle="modal">{{badges.length}} BG</li>
                <li class="list-group-item list-group-item-warning btn-store" data-toggle="modal" data-target="#store_modal">{{coins}} €</li>
              </div>
          </div>
          <form class="dataStudent">
            <div class="form-group">
              <label for="sName" class="control-label">Nombre estudiante</label>
              <input type="text" class="form-control" id="sName" name="sName" value="{{studentName}}" {{inputDisabled}}>
              <label for="sLevel" class="control-label">Nivel</label>
              <input type="text" class="form-control" id="sLevel" name="sLevel" value="{{level}}" {{inputDisabled}}>
              <label for="sAlias" class="control-label">Alias</label>
              <input type="text" class="form-control" id="sAlias" name="sAlias"  value="{{alias}}" {{inputDisabled}}>
              <label for="sAvatar" class="control-label">Avatar</label>
              <input type="text" class="form-control" id="sAvatar" name="sAvatar"  value="{{avatar}}" {{inputDisabled}}>
              <label for="sEmail" class="control-label">email</label>
              <input type="text" class="form-control" id="sEmail" name="sEmail" value="{{email}}" {{inputDisabled}}>
            </div>
            {{#if teacher}}
            <div style="float:right;margin-bottom:20px;">
              <button type="button" class="btn btn-default">Volver a clase</button>
              <input type="submit" class="btn btn-primary" value="Guardar">
            </div>
            {{/if}}
          </form>
        </div>
      {{/with}}
    </div>
    <div class="container-fluid section table-responsive">
      
      <h2 class="text-center bg-info">Misiones y Retos</h2>
      
      {{#each challenge}}
        <div class="form-group {{moc type}}">
          <div class="form-inline">
            <div class="input-group col-xs-9">
              <span class="input-group-addon">{{type}}</span>
              <input type="text" class="form-control inputGroup input-lg" {{inputDisabled}} name="chalName" aria-describedby="inputGroupSuccess1Status" value="{{chalName}}">
            </div>
            <div class="input-group col-xs-2">
              <span class="input-group-addon">Puntuación</span>
              <input type="text" class="form-control inputGroup input-lg cp" name="CP" id="{{_id}}" {{inputDisabled}} aria-describedby="inputGroupSuccess1Status" value="{{CP _id}}">
            </div>
          </div>
        </div>
      {{/each}}

      <h2 class="text-center bg-info">Insignias</h2>
    
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>
              Descripción
            </th>
            <th>
              XP
            </th>            
            <th>
              Fecha
            </th> 
          </tr>
        </thead>
        <tbody>
        {{#each badges}}
          <tr>
            <td>
              {{badge.badgeDescription}}
            </td>
            <td>
              {{badge.points}}
            </td>
            <td>
              {{createdOn}}
            </td>                
          </tr>
        {{/each}}
        </tbody>
      </table>
      
      <h2 class="text-center bg-info">Historial</h2>
      
      <table class="table table-bordered">
        <thead>
          <tr>
            <th id="evaluation_th">
              Evaluación
            </th>
            <th id="behaviour_th">
              Comportamiento
            </th>
            <th>
              Comentarios
            </th>
            <th>
              Puntos
            </th>
             <th id="behaviour_type_th">
              Tipo
            </th>
            <th id="date_th">
              Fecha
            </th> 
          </tr>
        </thead>
        <tbody>
        {{#each statistics}}
              <tr>
                <td>
                  {{evaluation}}
                </td>
                <td>
                  {{behaviour.behaviourDescription}}
                </td>
                <td>
                  {{comment}}
                </td>
                <td>
                  {{behaviour.points}}
                </td>
                <td>
                  {{behaviourType}}
                </td>
                <td>
                  {{createdOnFormatted createdOn}}
                </td>
              </tr>
        {{/each}}
        </tbody>
      </table>
    </div>
    <div class="container-fluid">
      <h2 class="text-center bg-info">Diario de aprendizaje</h2>
      <form class="diario">
        <div class="form-group">
          <label for="que" class="control-label">¿Qué hemos aprendido hoy?</label>
          <input type="text" class="form-control" id="que" name="que" value="">
          <label for="como" class="control-label">¿Cómo lo hemos aprendido? </label>
          <input type="text" class="form-control" id="como" name="como" value="">
          <label for="entendido" class="control-label">¿Qué he entendido bien?</label>
          <input type="text" class="form-control" id="entendido" name="entendido"  value="">
          <label for="noentendido" class="control-label">¿Qué cosas no acabo de entender?</label>
          <input type="text" class="form-control" id="noentendido" name="noentendido"  value="">
        </div>
        <div class="form-group">
          <button type="button" class="btn btn-default">Volver a clase</button>
          <input type="submit" class="btn btn-primary" value="Guardar entrada diario">
        </div>
      </form>  
    </div>
  </div>
</template>